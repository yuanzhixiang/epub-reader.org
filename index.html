<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>epub reader online - In-Browser EPUB Reader with TOC and Full Chapter View</title>
  <meta name="description" content="epub reader online is an in-browser EPUB reader. Upload an EPUB file, parse OPF + TOC + spine in memory, navigate nested TOC nodes, and read full node-plus-children content in one continuous view." />
  <meta name="robots" content="index,follow" />
  <meta name="yandex-verification" content="dca980df699d7673" />
  <meta property="og:title" content="epub reader online" />
  <meta property="og:description" content="A local-first epub reader online experience that parses EPUB files in memory and renders nested TOC content in a continuous reading layout." />
  <meta property="og:type" content="website" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
  
  <script defer data-domain="epub-reader.org" src="https://plausible.yuanzhixiang.com/js/script.js"></script>
  <script src="https://sigflare.yuanzhixiang.com/sigflare-tracker.js" defer></script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "epub reader online",
      "applicationCategory": "BrowserApplication",
      "operatingSystem": "Any",
      "description": "epub reader online is an in-browser tool that parses OPF, TOC, and spine, then renders full chapter content in a continuous view.",
      "featureList": [
        "Local in-memory EPUB parsing",
        "Nested TOC rendering",
        "Node and descendant chapter display",
        "Single-page continuous reading"
      ]
    }
  </script>

  <style>
    :root {
      /* Palette */
      --bg-paper: #F9F7F2;
      --bg-white: #FFFFFF;
      --text-main: #2C2C2C;
      --text-muted: #666055;
      --text-light: #8E867A;
      --accent-primary: #C07248;
      --accent-hover: #A65D35;
      --accent-soft: #F4EBE6;
      --border-soft: #EBE5DA;
      --shadow-card: 0 12px 32px rgba(40, 30, 20, 0.06);
      --shadow-hover: 0 16px 48px rgba(40, 30, 20, 0.1);
      
      /* Layout */
      --container-width: 800px;
      --toc-width: 320px;
      
      /* Typography */
      --font-serif: "Playfair Display", serif;
      --font-sans: "Lato", "IBM Plex Sans", sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: var(--bg-paper);
      color: var(--text-main);
      font-family: var(--font-sans);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    [hidden] {
      display: none !important;
    }

    a {
      color: inherit;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    /* --- Start Screen / Landing Page --- */
    .start-screen {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    .site-header {
      padding: 20px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: var(--container-width);
      margin: 0 auto;
      width: 100%;
    }

    .site-brand {
      font-family: var(--font-serif);
      font-weight: 700;
      font-size: 20px;
      color: var(--text-main);
      margin: 0;
      letter-spacing: -0.02em;
    }

    .site-nav {
      display: flex;
      gap: 24px;
    }

    .site-nav a {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .site-nav a:hover {
      color: var(--accent-primary);
    }


    /* Hero Section */
    .hero-section {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 80px 20px;
      text-align: center;
    }

    .hero-container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-title {
      font-family: var(--font-serif);
      font-size: 56px;
      line-height: 1.1;
      margin: 0 0 24px;
      color: var(--text-main);
      letter-spacing: -0.02em;
    }

    .hero-subtitle {
     font-family: var(--font-sans);
      font-size: 18px;
      line-height: 1.8; /* Increased line height for better readability */
      color: var(--text-muted);
      max-width: 680px; /* Slightly wider */
      margin: 0 auto 48px;
      font-weight: 400;
    }

    /* Section Typography & Spacing Improvements */
    .features-section, .workflow-section {
      padding: 100px 20px; /* More breathing room */
    }

    .section-container {
      width: 100%;
      max-width: var(--container-width);
      margin: 0 auto;
    }

    .section-title {
      font-family: var(--font-serif);
      font-size: 36px; /* Larger headings */
      text-align: center;
      margin: 0 0 60px;
      color: var(--text-main);
    }

    .description-text {
      max-width: 800px; 
      margin: 0 auto 60px; 
      text-align: center; 
      font-size: 18px; /* Larger body text */
      line-height: 1.8; 
      color: var(--text-muted);
    }

    /* Upload Card */
    .upload-card {
      width: 100%;
      background: var(--bg-white);
      border-radius: 24px;
      padding: 40px;
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border-soft);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .upload-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .drop-zone {
      border: 2px dashed #D6CCC2;
      border-radius: 16px;
      min-height: 250px;
      padding: 40px 20px;
      background: #FFFEFC;
      transition: all 0.2s ease;
      cursor: pointer;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .drop-zone:hover, .drop-zone.dragover {
      border-color: var(--accent-primary);
      background: var(--accent-soft);
    }

    .drop-zone input[type="file"] {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }

    .drop-icon {
      width: 48px;
      height: 48px;
      color: var(--accent-primary);
      margin-bottom: 24px;
    }
    
    .feature-icon {
      width: 24px;
      height: 24px;
      color: var(--accent-primary);
      margin-bottom: 16px;
      flex-shrink: 0;
    }

    .drop-hint {
      font-size: 20px; /* Highlight drop text */
      font-weight: 600;
      color: var(--text-main);
      margin: 0 0 12px;
      line-height: 1.4;
    }

    /* Features Grid */
    .features-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
    }

    @media (max-width: 768px) {
      .features-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Feature Grid Improvements */
    .feature-item {
      padding: 32px; /* More internal padding */
      border-radius: 16px;
      background: var(--bg-paper);
      border: 1px solid rgba(0,0,0,0.04);
      height: 100%;
    }

    .feature-item h3 {
      font-family: var(--font-serif);
      font-size: 22px;
      margin: 0 0 12px;
      color: var(--text-main);
    }

    .feature-item p {
      font-size: 16px;
      color: var(--text-muted);
      margin: 0;
      line-height: 1.7; /* Comfortable reading */
    }

    /* Workflow Steps */
    .steps-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 40px;
      counter-reset: step-counter;
      list-style: none;
      padding: 0;
      margin: 0;
      max-width: 100%;
      margin-inline: auto;
    }
    
    .step-item p {
       font-size: 16px;
       line-height: 1.7;
       color: var(--text-muted);
    }

    /* FAQ List Layout using Grid */
    .faq-grid {
       max-width: 800px;
       margin: 0 auto;
       display: grid;
       gap: 24px;
    }
    
    .faq-item {
       padding: 24px;
       background: var(--bg-white);
       border-radius: 12px;
       border: 1px solid var(--border-soft);
    }
    
    .faq-item p {
       margin: 0;
       font-size: 16px;
       line-height: 1.7;
       color: var(--text-muted);
    }
    
    .faq-item strong {
       color: var(--text-main);
       display: block;
       margin-bottom: 8px;
       font-family: var(--font-serif);
       font-size: 18px;
    }
    
    /* Footer */
    .site-footer {
      padding: 60px 20px;
      text-align: center;
      border-top: 1px solid var(--border-soft);
      background: #FFFDFC;
    }

    .site-footer p {
      font-size: 14px;
      color: var(--text-light);
      margin: 8px 0;
      line-height: 1.6;
    }

    /* --- Reader Interface (Retained & Polished) --- */
    .layout {
      height: 100vh;
      display: grid;
      grid-template-columns: var(--toc-width) 1fr;
      background: #F3F0E9;
    }

    .side {
      background: #FAF8F5;
      border-right: 1px solid #E6DCCF;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      box-shadow: 4px 0 24px rgba(0,0,0,0.02);
      z-index: 10;
    }

    .toc-wrap {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .toc-tree {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .toc-tree .toc-tree {
      margin-left: 12px;
      padding-left: 12px;
      border-left: 1px solid #EFE6D8;
    }

    .toc-tree li {
      margin: 4px 0;
    }

    .toc-tree a {
      display: block;
      padding: 6px 10px;
      font-size: 13px;
      color: #5D554A;
      border-radius: 6px;
      line-height: 1.4;
    }

    .toc-tree a:hover {
      background: #EFE9DE;
      color: #2C2C2C;
    }

    .toc-tree a.active {
      background: #E8DFD0;
      color: #1A1A1A;
      font-weight: 600;
    }
    
    .toc-tree a.disabled {
      color: #B0A89C;
      cursor: default;
    }

    .main {
      background: #FDFBF8;
      overflow-y: auto;
      scroll-behavior: smooth;
      position: relative;
    }

    .content-body {
      max-width: 800px;
      margin: 0 auto;
      padding: 60px 40px 100px;
      background: #FDFBF8;
      min-height: 100%;
    }

    .chapter {
      margin-bottom: 60px;
    }

    .chapter h2 {
      font-family: var(--font-serif);
      font-size: 32px;
      margin-bottom: 24px;
      color: #1A1A1A;
      border-bottom: 1px solid #EFE6D8;
      padding-bottom: 16px;
    }

    .chapter-content {
      font-family: "Georgia", "Times New Roman", serif;
      font-size: 18px;
      line-height: 1.7;
      color: #2C2C2C;
    }

    .chapter-content p {
      margin-bottom: 1.5em;
    }
    
    .chapter-content img {
      max-width: 100%;
      height: auto;
    }

    /* Scrollbars */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: #D8D0C0;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #C8BFAD;
    }

    /* Mobile */
    @media (max-width: 900px) {
      .hero-title { font-size: 40px; }
      .layout { grid-template-columns: 1fr; }
      .side { display: none; /* Simplification for mobile view if TOC not toggled */ }
      /* Actually original code had layout change. Let's keep a workable simple layout */
      .layout {
         grid-template-columns: 1fr;
         grid-template-rows: auto 1fr;
      }
      .side {
        border-right: none;
        border-bottom: 1px solid #E6DCCF;
        height: 200px;
        display: block;
      }
    }
    @media (max-width: 600px) {
      .site-header { padding: 16px 20px; }
      .hero-section { padding: 40px 20px; }
      .hero-title { font-size: 32px; }
      .upload-card { padding: 24px; }
      .drop-zone {
        min-height: 200px;
        padding: 32px 18px;
      }
    }
  </style>
</head>
<body>

  <!-- Landing Screen -->
  <section id="startScreen" class="start-screen">
    <header class="site-header">
      <h1 class="site-brand">epub reader online</h1>
      <nav class="site-nav">
        <a href="#features">Features</a>
        <a href="#workflow">How it works</a>
        <a href="#faq">FAQ</a>
        <a href="https://github.com/yuanzhixiang/epub-reader.org" target="_blank" rel="noopener noreferrer" class="nav-github">
           <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
           </svg>
           GitHub
         </a>
      </nav>
    </header>

    <div class="hero-section">
      <div class="hero-container">
        <h1 class="hero-title">epub reader</h1>
        <p class="hero-subtitle">
          Upload one EPUB file and start reading instantly in your browser.
        </p>

        <div class="upload-card">
          <div id="dropZone" class="drop-zone">
            <!-- Icon: Upload Simple -->
            <svg class="drop-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
            </svg>
            <p class="drop-hint">Drag and drop an EPUB file here to begin.</p>
            <input id="fileInput" type="file" accept=".epub,application/epub+zip" title="Select EPUB file" />
          </div>
          <p id="statusInline" class="status-inline" style="text-align: center; color: var(--accent-primary); font-weight: 500; padding-top: 20px;">Choose an .epub file to begin.</p>
        </div>
      </div>
    </div>

    <!-- Restored Original Sections with New Design -->
    <section id="features" class="features-section">
      <div class="section-container">
        <!-- Overview Section -->
        <h2 class="section-title">What This epub reader Does</h2>
        <div class="description-text">
          <p>This epub reader turns a raw EPUB package into a practical reading workspace. The app resolves package metadata, spine order, and TOC hierarchy, then presents chapter content in a clean continuous flow while keeping the processing inside your browser session. For teams that search for an epub reader online, this page explains a local-first browser model with no account friction and no server pipeline dependency.</p>
        </div>

        <h2 class="section-title">Core Features</h2>
        <div class="features-grid">
          <div class="feature-item">
            <svg class="feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
            <h3>In-Browser Parsing</h3>
            <p>This epub reader processes files locally in memory, with no server-side upload pipeline required.</p>
          </div>
          <div class="feature-item">
            <svg class="feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
            </svg>
            <h3>TOC-Aware Navigation</h3>
            <p>The reader preserves nested TOC structure from NCX or EPUB3 nav documents in the left sidebar.</p>
          </div>
          <div class="feature-item">
            <svg class="feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            <h3>Node + Children Reading</h3>
            <p>Clicking a TOC node tells the epub reader to show that node and all descendants in one content stream.</p>
          </div>
          <div class="feature-item">
             <svg class="feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z" />
            </svg>
            <h3>Reader-Friendly Selection</h3>
            <p>Inside the content pane, this reader supports Cmd/Ctrl + A to select only reader content.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Workflow Section -->
    <section id="workflow" class="workflow-section">
      <div class="section-container">
        <h2 class="section-title">How This epub reader Works</h2>
        <div class="steps-list">
          <div class="step-item">
             <p>Upload one EPUB file to the app.</p>
          </div>
          <div class="step-item">
             <p>The app resolves <code>container.xml</code>, finds OPF, and parses manifest + spine entries.</p>
          </div>
          <div class="step-item">
             <p>It builds TOC data from NCX or EPUB3 nav, with spine fallback when needed.</p>
          </div>
          <div class="step-item">
             <p>Chapter bodies are normalized and rendered into a single scrollable reading surface.</p>
          </div>
          <div class="step-item">
             <p>Click any TOC node to focus reading on that section and all child sections.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Additional Content Sections (Audience, Privacy) -->
    <section id="audience" class="features-section" style="background: #F9F7F2;">
       <div class="section-container">
          <div class="features-grid">
             <div class="feature-item" style="background: white;">
                <h3>Who Uses This epub reader</h3>
                <p>This epub reader is useful for researchers, editors, analysts, and students who need a fast way to inspect and navigate full EPUB content. Because it can show a parent node with all children in one view, it is practical for summarization, auditing, and structured review tasks. Many users discover this tool while searching for an epub reader online that keeps context and hierarchy visible in one place.</p>
             </div>
             <div class="feature-item" style="background: white;">
                <h3>Privacy and Local Workflow</h3>
                <p>By design, this reader handles files in browser memory during the session. That local-first approach is helpful when you want quick EPUB inspection without external storage pipelines, and it keeps the reading workflow close to your local environment. Even as an epub reader online experience, the runtime model stays browser-local for day-to-day reading tasks.</p>
             </div>
          </div>
       </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="features-section">
       <div class="section-container">
          <h2 class="section-title">FAQ</h2>
          <div class="faq-grid">
             <div class="faq-item">
                <p><strong>Can this epub reader open nested chapter structures?</strong> Yes. It reads NCX or EPUB3 nav and preserves hierarchy.</p>
             </div>
             <div class="faq-item">
                <p><strong>Can this epub reader show one section plus all descendants?</strong> Yes. Click one TOC node to render the full node-plus-children range.</p>
             </div>
             <div class="faq-item">
                <p><strong>Does this epub reader require account login?</strong> No. You can run it directly in a browser session.</p>
             </div>
             <div class="faq-item">
                <p><strong>Can I use this reader for large books?</strong> Yes. It was designed for long-form reading and structured navigation.</p>
             </div>
             <div class="faq-item">
                 <p><strong>Is this an epub reader online workflow?</strong> Yes. It runs in your browser, and the parsing flow starts as soon as you load one file.</p>
             </div>
          </div>
       </div>
    </section>

    <!-- Start Section -->
    <section id="start" class="hero-section" style="min-height: auto; padding-top: 0;">
       <div class="hero-container">
          <h2 class="section-title" style="margin-bottom: 24px;">Start Reading</h2>
          <p class="hero-subtitle">
            Drop your file in the box above and let this epub reader build the full reading surface. If your goal is faster navigation, cleaner section review, and one continuous output stream, this tool is ready to use now. If your search query was epub reader online, you are in the right place to test a full browser flow immediately.
          </p>
       </div>
    </section>

    <footer class="site-footer">
      <p><strong>epub reader online</strong> for structured, long-form reading in one browser session.</p>
      <p>This landing page and reader are designed for practical EPUB navigation, TOC-aware section review, and continuous chapter rendering without server-side document pipelines.</p>
      <div style="margin-top: 24px; display: flex; flex-direction: column; gap: 8px; align-items: center;">

         <p style="margin: 0;">Contact us: <a href="mailto:support@epub-reader.org" style="color: var(--accent-primary); font-weight: 500;">support@epub-reader.org</a></p>
      </div>
    </footer>
  </section>

  <!-- Reader Layout (Hidden by default) -->
  <div id="viewerLayout" class="layout" hidden>
    <aside class="side">
      <div id="tocWrap" class="toc-wrap">
        <div class="placeholder" style="padding: 20px; color: #aaa; text-align: center;">Loading Table of Contents...</div>
      </div>
    </aside>

    <section id="mainPanel" class="main" tabindex="0" aria-label="Reader content panel">
      <div id="contentBody" class="content-body">
        <div class="placeholder" style="text-align: center; color: #aaa; padding-top: 40px;">Content will appear here.</div>
      </div>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <script type="module" src="./src/main.js"></script>
</body>
</html>
